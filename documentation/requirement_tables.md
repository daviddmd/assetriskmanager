# Functional Requirements

## General Functionality

| Requirement ID | Requirement Description                                                                                                                                                                                                                                                          |
|----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1.1            | The user must be able to login to his account from the website's landing page, by clicking on the login button and inputting his ActiveDirectory credentials, rejecting any user that isn't registered in the organization's ActiveDirectory.                                    |
| 1.2            | The system must reject credentials that don't exist in the ActiveDirectory of the organization by displaying an error message upon submitting such credentials on the login form.                                                                                                |
| 1.3            | The system must display a hint (message/notification) on the header of all pages of the system after the first login for the user to fill his personal details, such as his department, contact information and name, which must disappear after the user completes his profile. |
| 1.4            | The user must be able to update its personal information from his profile page, which must be accessible from the site's header.                                                                                                                                                 |  
| 1.5            | The administrator of the platform must be able to update any user's personal information by going into their profile's pages.                                                                                                                                                    |
| 1.6            | The system must provide a user search interface/page, which must allow the users to search for users by their name, e-mail or department.                                                                                                                                        |
| 1.7            | The user must be able to update his preferred language on his profile page, and the system must honor that preference across future authentications.                                                                                                                             |
| 1.8            | The platform administrator must be able to change the roles of any user (to Data Protection Officer or Security Officer). By default, an user has the default role of an Asset Manager, whether or not it has any assets.                                                        | 
| 1.9            | The platform must be preloaded with an initial administrator user, which must be able to promote the following users to Security Officer or any necessary role for the platform's correct operation.                                                                             |
| 1.10           | The platform must provide an interface to set the permanent contact point for the platform's Security Officer use, which must be accessible over an API interface.                                                                                                               |
| 1.11           | The platform must provide an interface to set the Security Officer for the platform's Security Officer use, which must be accessible over an API interface.                                                                                                                      |
| 1.12           | The platform's Security Officer(s) must be able to review an Asset Manager (user) assigned assets from their profile page.                                                                                                                                                       |
| 1.13           | The platform's Security Officer and Administrator must be able to deactivate existing user's accounts. After such an operation, when the deactivated user inputs their credentials, their login will fail.                                                                       |

## Asset Management

| Requirement ID | Requirement Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 2.1            | The system must provide an interface to view all the assets of the organization on a table, that contains their details, buttons to manage the current *appreciation*, *threats* and *controls* (if the logged-in user is either the Security Officer or the Asset Manager of that asset), the current risk score and the responsible for said asset (which is clickable, opening the Asset Manager's user profile with their contact information). The Data Protection Officer must be able to view all the assets in the platform, but not modify them.                                                                                                                                                                                                                         |
| 2.2            | The system must provide an interface to create asset types, which must have a name and nature (hardware or software).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| 2.3            | The Security Officer must be able to add new assets to the platform from the interface that lists all the assets (2.1). Said assets may be of the software or hardware nature, which will allow to select the respective type from the asset types already in the platform (2.2) and must contain the following information:<ul><li>Inventory Number/ID</li><li>Serial Number</li><li>Typology (Server, Laptop, ERP, CRM)</li><li>Name</li><li>Manufacturer</li><li>Location</li><li>Contract Type with the Manufacturer of the asset that provides warranty/support</li><li>Description or Other Details</li><li>Option for whether or not it'll be exported in the CNCS report.</li><li>MAC address, IP address and FQDN</li><li>Asset that it links to (dependency).</li></ul> |
| 2.4            | The Security Officer must be able to assign an asset to an user (which will become the Asset Manager for said asset) that will be responsible to define the risks associated to it. To do so, there must exist a search box in an asset (that doesn't have an user associated to it) row in the assets table that allows the Security Officer to search for users that exist in the platform and assign them to the aforementioned asset.                                                                                                                                                                                                                                                                                                                                         |
| 2.5            | The Security Officer must be able to reassign an asset to a new Asset Manager that will be responsible to define the risks associated to it. To do so, there must exist a button in the asset (that already has an user associated to it) row in the assets table that allows the Security Officer to display the search bar again and search for users that exist in the platform and assign them to the aforementioned asset, overriding the previous responsible user for it. It must also be possible to cancel the operation before the user reassignment is completed, with a button to close the search box, effectively canceling the reassignment operation.                                                                                                             |
| 2.6            | The Security Officer or user assigned to the asset must be able to edit attributes of an asset (such as the name, description, among others).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| 2.7            | The Security Officer must be able to remove an asset from the platform, alongside with all information associated with it.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2.8            | All operations done on an asset (creation, change, removal and assignment of users to it) must be logged and the logs must be visible to the Security Officer and Administrator.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| 2.9            | The security officer must be able to set an asset as inactive, which will make it invisible to the respective asset manager, however it will still show up to the security officer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| 2.10           | The platform must come preloaded with a set of asset types (CRM,ERP,DSS,Financial Management,Project Management,Health Management,Laptop,Server,Switch,Router). (opcional)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2.11           | The platform must send an e-mail to an asset manager when an asset is assigned to them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 2.12           | The platform must send an e-mail to the Security Officer when an asset changes its status.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| 2.13           | The platform must allow the security officer to query the existing assets alongside its list (2.1) by their Asset Manager, Asset Type and its other attributes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

## Risk Management

| Requirement ID | Requirement Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 3.1            | The platform must provide an interface to manage (create, remove (if not assigned to any asset) and edit) threats, that can be assigned to an asset in the risk evaluation phase of it. Only the Security Officer can edit and remove threats, if none with the same name already exist. A threat has its unique ID (auto-generated), name and extensive description. Asset Managers may view the list of all assets, but not modify them.                                                                                                                                                                                                                                                                                                                                                                                   |
| 3.2            | The platform must provide an interface to manage (create, remove (if not assigned to any asset) and edit) controls, associated with threats. A control has an unique ID, name, description and must be associated with a specific risk. Asset Managers may view the list of controls, however they may not modify them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| 3.3            | The platform must allow for the management of the risk of an asset. For such, it must allow to define, in order, the asset appreciation, assets threats and finally, the asset treatments.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| 3.4            | The platform must set the internal state of each asset in its risk management life cycle, the states being:<ul><li>Initial/Evaluation of Threats</li><li>Set Threats</li><li>Set Treatments</li><li>Awaits/In Validation</li><li>Validated & Awaits Confirmation</li><li>Complete</li></ul>The user responsible for an asset must and cannot proceed to the next step of the process without doing the current one first, and by editing or undoing one step of the process, it invalidates all following ones.                                                                                                                                                                                                                                                                                                              |
| 3.5            | After being assigned an asset to manage the risk, the platform must display a notification in the header of all pages of the platform for the Asset Manager to manage or continue the process of management of their assets, while any asset that the user is responsible for is in a state lower than "Awaits Confirmation".                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| 3.6            | The platform must allow, for a certain asset, to define the appreciation or valuation of such asset. For such, the valuation of *availability*, *integrity* and *confidentiality* must be defined, and after it the total valuation/appreciation of the asset will be automatically calculated (cannot be overridden), which is equal to the highest value of any of the aforementioned three values. It must be possible to edit these values after they were defined. The initial value is defined as 0.                                                                                                                                                                                                                                                                                                                   |
| 3.7            | The platform must allow, after the total value of an asset is defined, to define the threats that such asset may face. For such, the user will be presented with a list of threats that exist in the platform (being possible to add more threats, as defined in 3.1), and the user may select such threats that apply to that asset. After selecting all applicable risks, the user must define the *probability* of such risk occurring to that asset, and the *impact* to *availability*, *integrity* and *confidentiality* of that asset. After such, the *absolute risk* will be automatically calculated (cannot be overridden) as the multiplication of the highest impact value by the value of the probability, and be given a *final score* (probability\*highest value of impact\*value of asset).                |
| 3.8            | The platform must allow, after all the threats and score of the threats for such assets were given, to apply controls/countermeasures/treatments for each threat. A table with the ID of each asset and threat with its description and severity score will be displayed, and the user must add the controls from the existing control list, associated with each risk (3.2), alongside with the type of control (the types being mitigation, transfer and accepting), and set the final score (residual risk) of the each risk of each asset after applying said control. For threats with a score bellow a certain threshold, the default control will be to accept (with no Action) and the final score of the mitigation staying unchanged, however, the current user may still apply their own countermeasures to them. |
| 3.9            | After the user finalizes defining all of the controls for all the threats for an asset, the Security Officer will be notified that there exists assets with treatments to be validated by the platform's notification in the header. As such, it must enter the "Manage Treatments" section of each of the assets that await validation, and validate each of treatments. The Security Officer may at any point add, edit or remove the treatments or final score after control of any of the controls. By removing the controls of a specific threat, and leaving un-controlled threats associated with an asset, the status of the asset will automatically be downgraded, so the Asset Manager will have to redefine the controls for those same threats.                                                                 |
| 3.10           | After a control is validated by the Security Officer, the Asset Manager must *accept the remaining risk* for that threat. After he accepts all the remaining risks of all the threats of an asset, the status of the asset is automatically upgraded to "complete"                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |  
| 3.11           | At all stages of the process, both the Security Officer and Asset Manager will be notified by the platform by means of a notification on the header of all the pages of the platform if there are any actions that need to be done.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| 3.12           | The Data Protection Officer must be able to view all of the sections of risk Management (asset valuation, asset threats and threat control) of all the assets, however, he must not be able to modify any of them.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| 3.13           | All operations involving risk management over an asset must be logged and such logs be readily accessible by the security officer.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |

## Report Generation

| Requirement ID | Requirement Description                                                                                                                                                                                                                                                                                                                                                                                                       |
|----------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 4.1            | The Security Officer must be able to generate a diagram of the networked assets and their relationships (dependency graph) from the assets page.                                                                                                                                                                                                                                                                              |
| 4.2            | The Security Officer must be able to generate a spreadsheet with the list of the assets in the platform that are set to be visible to CNCS.                                                                                                                                                                                                                                                                                   |
| 4.3            | The Security Officer must be able to generate a spreadsheet with the details of the permanent contact point (1.10)                                                                                                                                                                                                                                                                                                            |
| 4.4            | The Security Officer must be able to generate a spreadsheet with the details of the Security Officer (1.11)                                                                                                                                                                                                                                                                                                                   |
| 4.5            | The Security Officer must be able to generate a pre-filled report with information from the platform, chiefly among the assets which the status of the risk is "complete".                                                                                                                                                                                                                                                    |
| 4.6            | The Security Officer must be able to view a table and export it to a spreadsheet/CSV file with the list of all the assets, with their respective threats, number of applied countermeasures and the respective remaining risk after such countermeasures were applied, as well as if such remaining risk was accepted, which is only possible if all of the countermeasures were previously accepted by the security officer. |
| 4.7            | The Security Officer must be able to view a table and export it to a spreadsheet/CSV file with the list of all assets and their respective evaluation and description.                                                                                                                                                                                                                                                        |

# Non-Functional Requirements

| Requirement ID | Requirement Description                                                                                                                                                                                                        |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 1.1            | The platform must be available in several languages                                                                                                                                                                            |
| 1.2            | The platform must be easy to use, featuring modern design elements and keeping the interface clean and uncluttered.                                                                                                            |
| 1.3            | The platform must be secure, making use of roles, ActiveDirectory authentication, separation of concerns across the users on the platform, transparent database encryption with MariaDB TDE.                                   |
| 1.4            | The platform must be reliable, readily available and scalable, being responsive across pages and requests to it, be them internally or on the public-facing API interfaces.                                                    |
| 1.5            | The platform must be portable, must run on all modern browsers across device types and platforms, be them desktops/laptops or smart phones and must be able to be deployed under a containerized fashion, such as with Docker. |
| 1.6            | The platform must be scalable and maintainable, being designed in a modular fashion.                                                                                                                                           |
